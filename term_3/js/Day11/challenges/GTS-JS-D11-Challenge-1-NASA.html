<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Day 11: Challenge 1</title>
    <style>
        body {
            background-size: cover;
        }
        .col {
            float: left;
            width: 33%;
            height: 100vh;
        }
    </style>
</head>
<body>
    
    <!-- 
    
        CHALLENGE 1: NASA Astronomy Photo of the Day API

            If you completed this challenge yesterday or last week, this should be easy.
            The big difference today is that you should use async & await where possible in all parts of this challenge.


            NASA runs an astro-photography API service where you can get photos of space, fresh from their rovers & satellites!
            Let's use it to decorate a webpage.


            1.1 - Core Functionality: 
                Go to the NASA API website here: https://api.nasa.gov/api.html#apod
                Do whatever needs to be done to get an API key (usually make an account or enter your email address somewhere).
                Store that API key somewhere handy.
        
                In a HTML file, write some code that will grab the current photo from the APOD API and set it as the page's background. 
        
        
            1.2 - More Data!:
                Use at least 3 of the other NASA APIs to show some cool space data on the web page as well.
                There's data such as Mars weather, asteroid flight paths, interesting space event details (eg. meteor shower).
                Make sure it's all readable - brush up on your CSS!
        
            1.3 - More Photos!:
                Use the NASA Image & Video Library API and the NASA Mars Rover Photos API to pull a new image and set it as the background of the page when the user clicks on a button on the page.
                APIs are here:
                    - https://api.nasa.gov/api.html#Images 
                    - https://api.nasa.gov/api.html#MarsPhotos
        
                You should be able to call both APIs and only use the first image that comes back.
     -->
<div class="col"></div>
<div class="col">
    <div id="marsWeather"></div>
</div>
<div class="col"></div>
<script>
    (function setBackground(){
        let request = new XMLHttpRequest();
        
        request.open(
            "GET",
            "https://api.nasa.gov/planetary/apod?api_key=lwdWhQTNShVkonZk0xqEfveB6qFGEcLWQTSFJVbd"
        )

        request.send();

        request.onload = (response) => {
            const parsedResults = JSON.parse(request.response)
            document.body.style.backgroundImage = "url("+ parsedResults.hdurl +")";
        }
    })()

    function marsWeather(){
        let request = new XMLHttpRequest();

        request.open(
            "GET",
            "https://api.nasa.gov/insight_weather/?api_key=KlFxtP5mqcU6bYKkZ1v9zLhS73GfYdy5a7JU0IeI&feedtype=json&ver=1.0"
        )
        request.send()

        request.onload = () => {
            const parsedResults = JSON.parse(request.response)
            document.getElementById("marsWeather")
        }
    }
</script>









     
</body>
</html>